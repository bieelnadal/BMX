<div class="alinar-contenido">
  <div class="editar-perfil">
    <button class="btn-editar" (click)="modificarForm()" *ngIf="this.editar">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg"
        viewBox="0 0 16 16">
        <path fill-rule="evenodd"
          d="M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z" />
        <path fill-rule="evenodd"
          d="M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z" />
      </svg>
    </button>
    <button class="btn-editar" (click)="modificarForm()" *ngIf="!this.editar"><svg xmlns="http://www.w3.org/2000/svg"
        width="16" height="16" fill="currentColor" class="bi bi-pencil-fill" viewBox="0 0 16 16">
        <path
          d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z" />
      </svg></button>
    <form [formGroup]="EditarPefil" (ngSubmit)="onSubmit(EditarPefil)" enctype="multipart/form-data">

      <!-- Nombre -->
      <label>{{'editarDatosUsuario.nombre' |translate}}:</label>
      <input type="text" formControlName="inputNombre" [ngClass]="{ 'is-invalid': form.inputNombre.errors }"
        [value]="this.datosUsuario.Nombre" placeholder="{{'editarDatosUsuario.nombre.placeholder' |translate}}" minlength="3" maxlength="30"
        [readOnly]="!this.editar">
      <div *ngIf="form.inputNombre.errors" class="invalid-feedback">
        <div *ngIf="form.inputNombre.errors.required">{{'editarDatosUsuario.nombre.required' |translate}}.</div>
      </div>


      <!-- Apellidos -->
      <label>{{'editarDatosUsuario.apellidos' |translate}}:</label>
      <input type="text" formControlName="inputApellidos" placeholder="{{'editarDatosUsuario.apellidos.placeholder' |translate}}"
        [value]="this.datosUsuario.Apellidos" minlength="3" [ngClass]="{ 'is-invalid': form.inputApellidos.errors }"
        maxlength="30" [readOnly]="!this.editar">
      <div *ngIf="form.inputApellidos.errors" class="invalid-feedback">
        <div *ngIf="form.inputApellidos.errors.required">{{'editarDatosUsuario.apellidos.required' |translate}}.</div>
      </div>


      <!-- Email -->
      <label>{{'editarDatosUsuario.email' |translate}}:</label>
      <input type="email" formControlName="inputEmail" name="email" placeholder="{{'editarDatosUsuario.email.placeholder' |translate}}"
        [ngClass]="{ 'is-invalid': form.inputEmail.errors }" [readOnly]="!this.editar">

      <div *ngIf="form.inputEmail.errors" class="invalid-feedback">
        <div *ngIf="form.inputEmail.errors.required">{{'editarDatosUsuario.email.required' |translate}}.</div>
        <div *ngIf="form.inputEmail.errors.email">{{'editarDatosUsuario.email.email' |translate}}.</div>
        <div *ngIf="form.inputEmail.errors.notUnique">{{'editarDatosUsuario.email.notUnique' |translate}}.</div>
      </div>



      <!-- DNI -->
      <label>{{'editarDatosUsuario.dni' |translate}}:</label>
      <input type="text" formControlName="inputDNI" name="DNI" minlength="9" maxlength="9"
        [value]="this.datosUsuario.DNI" placeholder="{{'editarDatosUsuario.dni.placeholder' |translate}}" [readOnly]="!this.editar">


      <!-- Antiga pass -->
      <label>{{'editarDatosUsuario.contrasena' |translate}}</label>
      <input type="password" formControlName="inputPasscode" [required]="true" maxlength="50" placeholder="******"
        [ngClass]="{ 'is-invalid': form.inputPasscode.errors }" [readOnly]="!this.editar">

      <div *ngIf="form.inputPasscode.errors" class="invalid-feedback">
        <div *ngIf="form.inputPasscode.errors.notUnique">{{'editarDatosUsuario.contrasena.notUnique' |translate}}.</div>
        <div *ngIf="form.inputPasscode.errors.required">{{'editarDatosUsuario.contrasena.required' |translate}}.
        </div>
      </div>



      <!-- Nova pass -->
      <label>{{'editarDatosUsuario.nuevaContrasena' |translate}}</label>
      <input type="password" formControlName="inputNewPasscode" [minlength]="3" maxlength="50" placeholder="******"
        [readOnly]="!this.editar" [ngClass]="{ 'is-invalid': form.inputNewPasscode.errors }">
      <div *ngIf="form.inputNewPasscode.errors" class="invalid-feedback">
        <div *ngIf="form.inputNewPasscode.errors.minlength">{{'editarDatosUsuario.nuevaContrasena.minlength' |translate}}.</div>
      </div>


      <!-- Nova pass confirmar -->
      <label>{{'editarDatosUsuario.confirmarNuevaContrasena' |translate}}</label>
      <input type="password" formControlName="inputConfirmNewPasscode" minlength="3" maxlength="50" placeholder="******"
        [readOnly]="!this.editar" [ngClass]="{ 'is-invalid': form.inputConfirmNewPasscode.errors }">
      <div *ngIf="form.inputConfirmNewPasscode.errors" class="invalid-feedback">
        <div *ngIf="form.inputConfirmNewPasscode.errors.mustMatch">{{'editarDatosUsuario.confirmarNuevaContrasena.mustMatch' |translate}}.</div>
      </div>

      <label for="">{{'editarDatosUsuario.imagen' |translate}}</label><br>
      <input id="file-input" type="file" (change)="readURL($event)" accept="image/png, image/gif, image/jpeg"
        formControlName="imagen"><br><br>

      <button [disabled]="!this.editar">{{'editarDatosUsuario.confirmar' |translate}}</button>
    </form>
  </div>
</div>